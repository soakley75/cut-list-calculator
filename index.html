<!DOCTYPE html>
<html>
<head>
  <title>Cut List Calculator</title>
  <style>
    body { font-family: Arial; padding: 20px; }
    .length-inputs { display: grid; grid-template-columns: repeat(5, 1fr); gap: 10px; max-width: 600px; }
    .length-box { display: flex; flex-direction: column; align-items: center; }
    input[type="number"] { width: 60px; }
  </style>
</head>
<body>
  <h2>Cut List Calculator</h2>
  <label>Column Length (inches): <input type="number" id="columnLength" value="45"></label><br><br>

  <div class="length-inputs" id="lengthInputs"></div>

  <br><button onclick="calculate()">Calculate</button>
  <h3>Results:</h3>
  <div id="results"></div>

  <script>
    const minLength = 4, maxLength = 18;
    const container = document.getElementById("lengthInputs");

    for (let i = minLength; i <= maxLength; i++) {
      const box = document.createElement("div");
      box.className = "length-box";
      box.innerHTML = `<label>${i}"</label><input type="number" id="len${i}" min="0" value="0">`;
      container.appendChild(box);
    }

    function calculate() {
      const columnLength = parseInt(document.getElementById("columnLength").value);
      let pieces = [];

      for (let i = minLength; i <= maxLength; i++) {
        const qty = parseInt(document.getElementById(`len${i}`).value) || 0;
        for (let j = 0; j < qty; j++) pieces.push(i);
      }

      pieces.sort((a, b) => b - a);
      let column = [];

      pieces.forEach(piece => {
        let placed = false;
        for (let column of columns) {
          const used = column.reduce((a, b) => a + b, 0);
          if (used + piece <= columnLength) {
            column.push(piece);
            placed = true;
            break;
          }
        }
        if (!placed) columns.push([piece]);
      });

      document.getElementById("results").innerHTML =
        `Total pipes needed: ${columns.length}<br>` +
        columns.map((column, i) => `Column ${i + 1}: ${column.join(", ")} (used ${column.reduce((a, b) => a + b, 0)}")`).join("<br>");
    }
  </script>
</body>
</html>
